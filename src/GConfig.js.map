{"version":3,"sources":["GConfig.es6"],"names":[],"mappings":"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","file":"GConfig.js","sourcesContent":["/* @flow */\n\"use strict\";\n\n// Node Modules\nimport nPath from \"path\";\nimport del from \"del\";\n\n// noinspection JSUnusedLocalSymbols\n/**\n * @name gConfig\n * @author 'Anthony Trimble red2678@gmail.com'\n * @since '11/14/2015'\n *\n * @class gConfig\n * @classdesc Creates a new gConfig.\n *\n * @exports gConfig\n * @requires  module:npath\n * @requires  module:del\n *\n * @example const mainConfig = new gConfig({\n *     showDeleted : false,\n *     liveReload : true\n *   });\n */\nexport default class gConfig {\n\n  DS:string;\n  env:string;\n  site:string;\n\n  rootDir:string;\n  srcDir:string;\n  buildDir:string;\n  latestDir:string;\n  bowerDir:string;\n  nodeModulesFolder:string;\n  docsDir:string;\n\n  showDeleted:boolean;\n  liveReload:boolean;\n  produceArtifacts:boolean;\n\n  sources:object;\n  serverOptionsConfig:object;\n\n  /**\n   * Creates a gConfig object\n   * @param {Object} [config={}] - Options to initialize the component with\n   * @param {!string} [config.bowerFolder=\"./bower_components/\"] - See {@link bowerDir}\n   * @param {!string} [config.buildDir=\"./_BUILDS/dev/mainSite/\"] - See {@link buildDir}\n   * @param {!string} [config.docs=\"./_DOCS/\"] - See {@link docs}\n   * @param {!string} [config.DS=\"/\"] - See {@link DS}\n   * @param {!string} [config.env=\"dev\"] - See {@link env}\n   * @param {!string} [config.latestDir=\"./_LATEST/\"] - See {@link latestDir}\n   * @param {!boolean} [config.liveReload=\"true\"] - See {@link liveReload}\n   * @param {!string} [config.nodeModulesFolder=\"./node_modules/\"] - See {@link nodeModulesFolder}\n   * @param {!boolean} [config.produceArtifacts=\"false\"] - See {@link produceArtifacts}\n   * @param {!string} [config.rootDir='./'] - See {@link rootDir}\n   * @param {!object} [config.serverOptionsConfig=\"{}\"] - See {@link serverOptionsConfig}\n   * @param {!boolean} [config.showDeleted=\"false\"] - See {@link showDeleted}\n   * @param {!string} [config.site=\"mainSite\"] - See {@link site}\n   * @param {!object} [config.sources=\"{}\"] - See {@link sources}\n   * @param {!string} [config.srcDir=\"./_SRC/dev/\"] - See {@link srcDir}\n   */\n  constructor(config:object = {}) {\n    /**\n     * Default value :: './bower_components/'<br>\n     * The project bower directory\n     * @type {string}\n     * @example './bower_components/'\n     */\n    this.bowerDir = this.rootDir + (config.bowerDir || 'bower_components') + this.DS;\n    /**\n     * Default value :: './_BUILDS/dev/mainSite/'<br>\n     * The project builds directory\n     * @type {string}\n     * @example './_BUILDS/dev/mainSite/'\n     */\n    this.buildDir = this.rootDir + (config.buildDir || '_BUILDS') + this.DS + this.env + this.DS + this.site + this.DS;\n    /**\n     * Default value :: './_DOCS/'<br>\n     * The project docs directory\n     * @type {string}\n     * @example './_DOCS/'\n     */\n    this.docsDir = this.rootDir + (config.docsDir || '_DOCS') + this.DS;\n    /**\n     * Default value :: '/'<br>\n     * The OS directory separator, obtained via nPath or set manually when passed in.\n     * @type {string}\n     * @example '/'\n     */\n    this.DS = nPath.sep || '/';\n    /**\n     * Default value :: 'dev'<br>\n     * The project environment from the NODE_ENV environmental variable.\n     * @type {string}\n     * @example 'dev'\n     */\n    this.env = (config.env || (process.env.NODE_ENV || 'dev')).toLowerCase();\n    /**\n     * Default value :: './_LATEST/'<br>\n     * The project latest directory, the location of the latest releases\n     * @type {string}\n     * @example './_LATEST/'\n     */\n    this.latestDir = this.rootDir + (config.latestDir || '_LATEST') + this.DS + this.env + this.DS + this.site + this.DS;\n    /**\n     * Default value :: true<br>\n     * Whether or not to use gulp live reload\n     * @type {boolean}\n     * @example true\n     */\n    this.liveReload = config.liveReload || true;\n    /**\n     * Default value :: './node_modules/'<br>\n     * The project node modules directory\n     * @type {string}\n     * @example './node_modules/'\n     */\n    this.nodeModulesFolder = this.rootDir + (config.nodeModulesFolder || 'node_modules') + this.DS;\n    /**\n     * Default value :: false<br>\n     * Whether or not to use produce build artifacts\n     * @type {boolean}\n     * @example false\n     */\n    this.produceArtifacts = config.produceArtifacts || false;\n    /**\n     * Default value :: './'<br>\n     * The project root directory\n     * @type {object}\n     * @example './'\n     */\n    this.rootDir = (config.rootDir || '.') + this.DS;\n    /**\n     * Default value :: see example<br>\n     * Container for gulp-connect server options\n     * @type {object}\n     * @example\n     * {\n\t\t *    root : this.buildUrl_(),\n\t\t *    livereload : true,\n\t\t *    port : 64033\n\t\t * }\n     */\n    this.serverOptionsConfig = config.serverOptionsConfig || {};\n    /**\n     * Default value :: false<br>\n     * Whether or not to show deleted gulp files in the console\n     * @type {boolean}\n     * @example false\n     */\n    this.showDeleted = config.showDeleted || false;\n    /**\n     * Default value :: 'mainSite'<br>\n     * The project site from env.TAGGLISH_SITE\n     * @type {string}\n     * @example 'mainSite'\n     */\n    this.site = (config.site || process.env.GCONFIG_SITE) ? config.site || (process.env.GCONFIG_SITE || 'mainSite').toLowerCase() : '';\n    /**\n     * Default value :: {}<br>\n     * Container for source paths\n     * @type {object}\n     * @example '{}'\n     */\n    this.sources = config.sources || {};\n    /**\n     * Default value :: './_SRC/'<br>\n     *  The project source directory\n     * @type {string}\n     * @example './_SRC/'\n     */\n    this.srcDir = this.rootDir + (config.srcDir || '_SRC') + this.DS + this.site + this.DS;\n  }\n\n  /**\n   * Capitalizes the first letter of a passed in string\n   * @param {string} str='' - The string to capitalize\n   * @returns {string} - The string to with the first letter capitalized\n   * @example const str = capitalize('my test string');\n   * str === 'My test string';\n   */\n  capitalize(str:string = ''):string {\n    return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();\n  }\n\n  /**\n   * Wraps node del.sync in {@link logDeleted}\n   * @param {Array<string>} files=[] - The files to be delted, accepts GLOB patterns.\n   * @returns {void}\n   * @example const config = new gConfig();\n   * config.deleteFiles(['folder/file.html', 'folder/file.css', 'folder/folder-two/*.js']) //synchronous action\n   */\n  deleteFiles(files:Array<string> = []):void {\n    this.logDeleted(del.sync(files));\n  }\n\n  /**\n   * Basic getter\n   * @param {string} property - the property to get\n   * @returns {*} - found property or undefined\n   * @example const config = new gConfig();\n   * const style = config.get('someProperty');\n   */\n  get(property:string = ''):any {\n    return this[property];\n  }\n\n  /**\n   * Returns a path comprised of the base path to the Bower directory and the passed in supplemental path.\n   * @param {string} dir='' - The supplemental path\n   * @returns {string} - The generated path\n   * @example const config = new gConfig();\n   * const jqueryPath = config.getBowerDir('jquery/dist/jquery.min.js');\n   * jqueryPath === './bower_folder/jquery/dist/jquery.min.js';\n   */\n  getBowerDir(dir:string = ''):string {\n    return this.bowerDir + dir;\n  }\n\n  /**\n   * Returns a path comprised of the current {@link buildDir} and the passed in supplemental path.\n   * @param {string} dir=''- The supplemental path\n   * @returns {string} - The generated path\n   * @example const config = new gConfig();\n   * const allBuildCssFiles = config.getBuildDir('css/*.css');\n   * allBuildCssFiles = './_BUILDS/dev/mainSite/css/*.css';\n   */\n  getBuildDir(dir:string = ''):string {\n    return this.buildDir + this.env + this.DS + this.site + this.DS + dir;\n  }\n\n  /**\n   * Returns the path to the {@link latest} directory and all files contained therin.\n   * @returns {string} - The generated path\n   * @example const config = new gConfig();\n   * const latestBuildDir = config.getLatestBuild();\n   * latestBuildDir === './_LATEST/';\n   */\n  getLatestBuild():string {\n    return this.latestDir + this.env + '/**';\n  }\n\n  /**\n   * Returns a path comprised of {@link nodeModulesFolder} and the passed in supplemental path.\n   * @param {string} dir='' - The supplemental path\n   * @returns {string} - The generated path\n   * @example const config = new gConfig();\n   * const esdocPath = config.getNodeDir('esdoc-es7-plugin/out/src/Plugin.js');\n   * esdocPath === './node_modules/esdoc-es7-plugin/out/src/Plugin.js';\n   */\n  getNodeDir(dir:string = ''):string {\n    return this.nodeModulesFolder + dir;\n  }\n\n  /**\n   * Returns a path comprised of the {@link rootDir} and the passed in supplemental path.\n   * @param {string} dir=''- The supplemental path\n   * @returns {string} - The generated path\n   * @example const config = new gConfig();\n   * const file = config.getRootDir('someFolder/file.js');\n   * file === './someFolder/file.js';\n   */\n  getRootDir(dir:string = ''):string {\n    return this.rootDir + dir;\n  }\n\n  /**\n   * Returns the current configuration object for gulp-connect\n   * @returns {{root: string, livereload: boolean, port: number}}\n   * @example const config = new gConfig();\n   * const serverConfig = config.getServerOptions();\n   * serverConfig = {\n\t *  root : './_BUILDS/dev/mainSite/',\n\t *  livereload : true,\n\t *  port : 64033\n\t * }\n   */\n  getServerOptions():object {\n    const self = this;\n    return {\n      root: self.buildDir + self.DS + self.site + self.DS + self.env + self.DS,\n      livereload: self.liveReload,\n      port: 64033\n    }\n  }\n\n  /**\n   * Returns a path comprised of the {@link srcDir} and the passed in supplemental path.\n   * @param {string} dir=''- The supplemental path\n   * @returns {string} - The generated path\n   * @example const config = new gConfig();\n   * const allSourceJadeFiles  = config.getSrcDir('templates/*.jade');\n   * allSourceJadeFiles === './_SRC/mainSite/templates/*.jade'\n   */\n  getSrcDir(dir:string = ''):string {\n    return this.srcDir + dir;\n  }\n\n  /**\n   *\n   * @param message\n   * @returns {string}\n   */\n  log(message:string):string {\n    return '\\n********************************************\\n' +\n      'LOG :: ' + message +\n      '\\n********************************************';\n  }\n\n  /**\n   *\n   * @param paths\n   * @param location\n   */\n  logDeleted(paths:Array<string>, location:string = ''):void {\n    if (this.showDeleted) {\n      console.log(\n        '\\n******************************* *************\\n' +\n        (location ? this.capitalize(location) : '') + 'Deleted files/folders: [\\n' +\n        paths.join(',\\n') +\n        '\\n]\\n*******************************************');\n    }\n  }\n\n  /**\n   * Get current SASS style based on environment ({@link env}). If \"production\" or \"ppe\" style is compressed, all\n   * other cases style is expanded.\n   * @returns {string} 'compressed' || 'expanded'\n   * @example const config = new gConfig();\n   * const sassStyle = config.sassStyle();\n   * sassStyle === 'expanded'\n   */\n  sassStyle():string {\n    return ( this.env === 'production' || this.env === 'ppe' ? 'compressed' : 'expanded');\n  }\n\n  /**\n   * Class setter, returns instance to allow chaining\n   * @param {string} property - The proeprty to set\n   * @param {*} value - The value to assign to the property\n   * @returns {gConfig} - Returns the object instance\n   * @example const config = new gConfig();\n   * const value = config.set('someProperty', true).get('someProperty');\n   * value === true;\n   */\n  set(property:string, value:any):gConfig {\n    this[property] = value;\n    return this;\n  }\n}\n"]}